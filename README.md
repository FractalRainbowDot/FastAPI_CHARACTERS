# Описание проекта

Этот проект представляет собой API для простой RPG-игры, разработанное с использованием FastAPI.

## Функциональность

API предоставляет следующие возможности:

### Персонажи (`/characters`)

*   **`POST /`**: Создание нового персонажа.
    *   Принимает JSON с именем, силой, ловкостью и живучестью.
    *   Возвращает созданного персонажа с его ID и остальными параметрами.
*   **`GET /`**: Получение списка всех персонажей.
*   **`GET /{character_id}`**: Получение информации о конкретном персонаже по его ID.
*   **`DELETE /`**: Удаление персонажа по ID.

### NPC (`/npcs`)

*   **`POST /`**: Создание или получение NPC определенного уровня.
    *   Если NPC заданного уровня уже существует, возвращает его.
    *   Если нет, создает нового NPC с указанным уровнем и случайными характеристиками.

### Битвы (`/battle`)

*   **`POST /pvp`**: Проведение PvP-боя между двумя персонажами.
    *   Принимает ID атакующего и защищающегося.
    *   Возвращает лог боя.
*   **`POST /pve/{attacker_id}`**: Проведение PvE-боя между персонажем и NPC.
    *   Принимает ID атакующего и уровень NPC.
    *   Возвращает лог боя.
*   **`POST /heal-all`**: Полное восстановление здоровья всех персонажей.
*   **`POST /heal/{character_id}`**: Полное восстановление здоровья одного персонажа.

## Структура проекта (`src/app_v2`)

*   **`api/`**: Содержит всю логику, связанную с API.
    *   **`v1/`**: Версия 1 API.
        *   **`endpoints/`**: Файлы с эндпоинтами FastAPI (`characters.py`, `npcs.py`, `battle.py`).
        *   **`router.py`**: Собирает все роутеры из `endpoints` в один.
    *   **`dependencies.py`**: Зависимости для эндпоинтов (например, сервисы).
*   **`core/`**: Базовая конфигурация приложения.
*   **`models/`**: Pydantic-модели для валидации данных в запросах и ответах.
*   **`services/`**: Бизнес-логика приложения (например, `character_service.py`, `npc_service.py`, `battle_service.py`).
*   **`db_models/`**: Модели SQLAlchemy для работы с базой данных.
*   **`repositories/`**: Классы для взаимодействия с базой данных.
*   **`main.py`**: Точка входа в приложение FastAPI.
